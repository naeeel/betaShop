<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- !bootstrap icon -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="css/main.css" />
  <title>E-Commerce | Account</title>
</head>

<body>
  <!-- ! header start -->
  <header>
    <!-- <div class="global-notification">
      <div class="container">
        <p>
          SUMMER SALE FOR ALL SWIM SUITS AND FREE EXPRESS INTERNATIONAL
          DELIVERY - OFF 50%! <a href="shop.html">SHOP NOW</a>
        </p>
      </div>
    </div> -->
    <div class="header-row">
      <div class="container">
        <div class="header-wrapper">
          <div class="header-mobile">
            <i class="bi bi-list" id="btn-menu"></i>
          </div>
          <div class="header-left">
            <a href="/" class="logo"><img src="img/logo.png" alt="logo" width="80px" height="80px"></a>
        </div>
          <div class="header-center" id="sidebar">
            <nav class="navigation">
              <ul class="menu-list">
                <li class="menu-list-item">
                  <a href="/" class="menu-link">Home
                    <!-- <i class="bi bi-chevron-down"></i> -->
                  </a>
                  <!-- <div class="menu-dropdown-wrapper">
                    <ul class="menu-dropdown-content">
                      <li><a href="#">Home Clean</a></li>
                      <li><a href="#">Home Collection</a></li>
                      <li><a href="#">Home Minimal</a></li>
                      <li><a href="#">Home Modern</a></li>
                      <li><a href="#">Home Parallax</a></li>
                      <li><a href="#">Home Strong</a></li>
                      <li><a href="#">Home Style</a></li>
                      <li><a href="#">Home Unique</a></li>
                      <li><a href="#">Home RTL</a></li>
                    </ul>
                  </div> -->
                </li>
                <li class="menu-list-item megamenu-wrapper">
                  <a href="shop.html" class="menu-link">Shop
                    <!-- <i class="bi bi-chevron-down"></i> -->
                  </a>
                  <!-- <div class="menu-dropdown-wrapper">
                    <div class="menu-dropdown-megamenu">
                      <div class="megamenu-links">
                        <div class="megamenu-products">
                          <h3 class="megamenu-product-title">Shop Style</h3>
                          <ul class="megamenu-menu-list">
                            <li><a href="#">Shop Standart</a></li>
                            <li><a href="#">Shop Full</a></li>
                            <li><a href="#">Shop Only Categories</a></li>
                            <li><a href="#">Shop Image Categories</a></li>
                            <li><a href="#">Shop Sub Categories</a></li>
                            <li><a href="#">Shop List</a></li>
                            <li><a href="#">Hover Style 1</a></li>
                            <li><a href="#">Hover Style 2</a></li>
                            <li><a href="#">Hover Style 3</a></li>
                          </ul>
                        </div>
                        <div class="megamenu-products">
                          <h3 class="megamenu-product-title">
                            Filter Layout
                          </h3>
                          <ul class="megamenu-menu-list">
                            <li><a href="#">Sidebar</a></li>
                            <li><a href="#">Filter Side Out</a></li>
                            <li><a href="#">Filter Dropdown</a></li>
                            <li><a href="#">Filter Drawer</a></li>
                          </ul>
                        </div>
                        <div class="megamenu-products">
                          <h3 class="megamenu-product-title">Shop Loader</h3>
                          <ul class="megamenu-menu-list">
                            <li><a href="#">Shop Pagination</a></li>
                            <li><a href="#">Shop Infinity</a></li>
                            <li><a href="#">Shop Load More</a></li>
                            <li><a href="#">Cart Modal</a></li>
                            <li><a href="#">Cart Drawer</a></li>
                            <li><a href="#">Cart Page</a></li>
                          </ul>
                        </div>
                      </div>
                      <div class="megamenu-single">
                        <a href="#">
                          <img src="img/mega-menu.jpg" alt="" />
                        </a>
                        <h3 class="megamenu-single-title">
                          JOIN THE LAYERING GANG
                        </h3>
                        <h4 class="megamenu-single-subtitle">
                          Suspendisse faucibus nunc et pellentesque
                        </h4>
                        <a href="#" class="megamenu-single-button btn btn-sm">Shop Now</a>
                      </div>
                    </div>
                  </div> -->
                </li>
                <li class="menu-list-item">
                  <a href="blog.html" class="menu-link">Blog
                  </a>
                </li>
                <li class="menu-list-item">
                  <a href="contact.html" class="menu-link">Contact</a>
                </li>
              </ul>
            </nav>
            <i class="bi-x-circle" id="close-sidebar"></i>
          </div>
          <div class="header-right">
            <div class="header-right-links">
              <a href="account.html">
                <i class="bi bi-person"></i>
              </a>
              <button class="search-button">
                <i class="bi bi-search"></i>
              </button>
              <a href="#">
                <i class="bi bi-heart"></i>
              </a>
              <div class="header-cart">
                <a href="cart.html" class="header-cart-link">
                  <i class="bi bi-bag"></i>
                  <span class="header-cart-count">0</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <!-- ! header end -->

  <!-- Notification container -->
  <div id="notification" class="notification"></div>

  <!-- ! modal search start -->
  <div class="modal-search">
    <div class="modal-wrapper">
      <h3 class="modal-title">Search for products</h3>
      <p class="modal-text">
        Start typing to see products you are looking for.
      </p>
      <div class="search">
        <input type="text" placeholder="Search a product" />
        <button><i class="bi bi-search"></i></button>
      </div>
      </form>
      <div class="search-result">
        <div class="search-heading">
          <h3>RESULT FROM PRODUCT</h3>
        </div>
        <div class="results">

        </div>
      </div>
      <i class="bi bi-x-circle" id="close-modal-search"></i>
    </div>
  </div>
  <!-- ! modal search end -->


  <!-- ! account start -->
  <section class="account-page">
    <div class="container">
      <div class="account-wrapper">
        <div class="account-column">
          <h2>Login</h2>
          <form id="login-form">
            <div>
              <label>
                <span>Username atau email<span class="required">*</span></span>
                <input type="text" id="login-username">
              </label>
            </div>
            <div>
              <label>
                <span>Password <span class="required">*</span></span>
                <input type="password" id="login-password">
              </label>
            </div>
            <p class="remember">
              <label>
                <input type="checkbox">
                <span>Ingat Saya</span>
              </label>
              <button type="button" class="btn btn-sm" id="login-button">Login</button>
            </p>
            <a href="#" class="form-link">Lupa Password?</a>
          </form>
        </div>
        <div class="account-column">
          <h2>Registrasi</h2>
          <form id="register-form">
            <div>
              <label>
                <span>Username <span class="required">*</span></span>
                <input type="text" id="register-username">
              </label>
            </div>
            <div>
              <label>
                <span>Email <span class="required">*</span></span>
                <input type="email" id="register-email">
              </label>
            </div>
            <div>
              <label>
                <span>Password <span class="required">*</span></span>
                <input type="password" id="register-password">
              </label>
            </div>
            <div class="privacy-policy-text remember">
              <p>
                Data pribadi Anda akan digunakan untuk mendukung pengalaman Anda di seluruh situs web ini, untuk mengelola akses ke
                akun Anda, dan untuk tujuan lain yang dijelaskan dalam  <a href="#">kebijakan privasi kami</a>.
              </p>
              <button type="button" class="btn btn-sm" id="register-button">Registrasi</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  <!-- ! account end -->

  <!-- Forgot Password Modal -->
  <div id="forgot-password-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="close-forgot-password">&times;</span>
      <h3>Reset Password</h3>
      <p>Masukkan email Anda untuk mereset password.</p>
      <input type="email" id="forgot-password-email" placeholder="Masukkan email Anda">
      <button id="forgot-password-submit" class="btn btn-sm">Kirim</button>
    </div>
  </div>

  <!-- ! policy start -->
  <section class="policy">
    <div class="container">
      <ul class="policy-list">
        <li class="policy-item">
          <i class="bi bi-truck"></i>
          <div class="policy-texts">
            <strong>FREE DELIVERY</strong>
            <span>From Rp59.890</span>
          </div>
        </li>
        <li class="policy-item">
          <i class="bi bi-headset"></i>
          <div class="policy-texts">
            <strong>SUPPORT 24/7</strong>
            <span>Online 24 hours</span>
          </div>
        </li>
        <li class="policy-item">
          <i class="bi bi-arrow-clockwise"></i>
          <div class="policy-texts">
            <strong>30 DAYS RETURN</strong>
            <span>Simply return it within 30 days</span>
          </div>
        </li>
        <li class="policy-item">
          <i class="bi bi-credit-card"></i>
          <div class="policy-texts">
            <strong>PAYMENT METHOD</strong>
            <span>Secure Payment</span>
          </div>
        </li>
      </ul>
    </div>
  </section>
  <!-- ! policy end -->

  <!-- ! footer start -->
  <section class="footer">
    <div class="subscribe-contact-row">
      <div class="container">
        <div class="subscribe-contact-wrapper">
          <div class="subscribe-wrapper">
            <div class="footer-subscribe">
              <div class="footer-subscribe-top">
                <h3 class="subscribe-title">
                  Dapatkan email kami untuk info tentang item baru, penjualan, dan lainnya.
                </h3>
                <p class="subscribe-desc">
                  Kami akan mengirimkan email voucher senilai Rp.10.000 untuk pesanan pertama Anda
                  di atas Rp50.000
                </p>
              </div>
              <div class="footer-subscribe-bottom">
                <form>
                  <input type="text" placeholder="masukkan email anda" />
                  <button class="btn">Subscribe</button>
                </form>
                <p class="privacy-text">
                  Dengan berlangganan, Anda menyetujui kami
                  <a href="#">Terms & Conditions and Privacy & Cookies Policy.</a>
                </p>
              </div>
            </div>
          </div>
          <div class="contact-wrapper">
            <div class="footer-contact-top">
              <h3 class="contact-title">Butuh bantuan? <br>
                (+62) 8123456789
              </h3>
              <p class="contact-desc">Kami tersedia 8:00am – 7:00pm
              </p>
            </div>
            <div class="footer-contact-bottom">
              <div class="download-app">
                <a href="#">
                  <img src="img/footer/app-store.png" alt="">
                </a>
                <a href="#">
                  <img src="img/footer/google-play.png" alt="">
                </a>
              </div>
              <p class="privacy-text">
                <strong>Shopping App:</strong> Try our View in Your Room feature, manage registries and save payment
                info.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="widgets-row">
      <div class="container">
        <div class="footer-widgets">
          <div class="brand-info">
            <div class="footer-logo">
              <a href="/" class="logo"><img src="img/logo.png" alt="logo" width="80px" height="80px"></a>
            </div>
            <div class="footer-desc">
              Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis in
              termapol.
            </div>
            <div class="footer-contact">
              <p>
                <a href="tel:123456789">(+800) 1234 5678 90</a> -
                <a href="mailto:info@example.com">info@example.com</a>
              </p>
            </div>
          </div>
          <div class="widget-nav-menu">
            <h4>Information</h4>
            <ul class="menu-list">
              <li>
                <a href="#">About Us</a>
              </li>
              <li>
                <a href="#">Privacy Policy</a>
              </li>
              <li>
                <a href="#">Returns Policy</a>
              </li>
              <li>
                <a href="#">Shipping Policy</a>
              </li>
              <li>
                <a href="#">Dropshipping</a>
              </li>
            </ul>
          </div>
          <div class="widget-nav-menu">
            <h4>Account</h4>
            <ul class="menu-list">
              <li>
                <a href="#">Dashboard</a>
              </li>
              <li>
                <a href="#">My Orders</a>
              </li>
              <li>
                <a href="#">My Wishlist</a>
              </li>
              <li>
                <a href="#">Account details</a>
              </li>
              <li>
                <a href="#">Track My Orders</a>
              </li>
            </ul>
          </div>
          <div class="widget-nav-menu">
            <h4>Shop</h4>
            <ul class="menu-list">
              <li>
                <a href="#">Affiliate</a>
              </li>
              <li>
                <a href="#">Bestsellers</a>
              </li>
              <li>
                <a href="#">Discount</a>
              </li>
              <li>
                <a href="#">Latest Products</a>
              </li>
              <li>
                <a href="#">Sale Products</a>
              </li>
            </ul>
          </div>
          <div class="widget-nav-menu">
            <h4>Categories</h4>
            <ul class="menu-list">
              <li>
                <a href="#">Women</a>
              </li>
              <li>
                <a href="#">Men</a>
              </li>
              <li>
                <a href="#">Bags</a>
              </li>
              <li>
                <a href="#">Outerwear</a>
              </li>
              <li>
                <a href="#">Shoes</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="copyright-row">
      <div class="copyright-row">
        <div class="container">
          <div class="footer-copyright">
            <div class="site-copyright">
              <p>
                Copyright 2022 © E-Commerce Theme. All right reserved.
                Powered By Sinan Sarıçayır.
              </p>
            </div>
            <a href="#">
              <img src="img/footer/cards.png" alt="">
            </a>
            <div class="footer-menu">
              <ul class="footer-menu-list">
                <li class="list-item">
                  <a href="#">Privacy Policy</a>
                </li>
                <li class="list-item">
                  <a href="#">Terms and Conditions</a>
                </li>
                <li class="list-item">
                  <a href="#">Returns Policy</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- ! footer end -->

  <!-- scripts start -->
  <script src="js/main.js" type="module"></script>
  <script>
    // Helper function to show notifications
    function showNotification(message, type) {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = `notification ${type}`;
      notification.style.display = 'block';

      setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => {
          notification.style.display = 'none';
          notification.style.opacity = '1';
        }, 500);
      }, 3000);
    }

    // Helper function to show error on fields
    function highlightErrorField(field, message) {
      field.classList.add('error');
      field.setAttribute('title', message);
      setTimeout(() => {
        field.classList.remove('error');
        field.removeAttribute('title');
      }, 3000);
    }

    // Helper function to validate email format
    function isValidEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    // Login and Register functionality using localStorage
    document.getElementById('register-button').addEventListener('click', function () {
      const username = document.getElementById('register-username');
      const email = document.getElementById('register-email');
      const password = document.getElementById('register-password');

      if (!username.value.trim()) {
        highlightErrorField(username, 'Username wajib diisi!');
        return;
      }

      if (!email.value.trim()) {
        highlightErrorField(email, 'Email wajib diisi!');
        return;
      }

      if (!isValidEmail(email.value.trim())) {
        highlightErrorField(email, 'Format email tidak valid!');
        return;
      }

      if (!password.value.trim()) {
        highlightErrorField(password, 'Password wajib diisi!');
        return;
      }

      const users = JSON.parse(localStorage.getItem('users')) || [];
      const userExists = users.some(user => user.email === email.value.trim());

      if (userExists) {
        highlightErrorField(email, 'Email sudah terdaftar!');
      } else {
        users.push({ username: username.value.trim(), email: email.value.trim(), password: password.value.trim() });
        localStorage.setItem('users', JSON.stringify(users));
        showNotification('Registrasi berhasil!', 'success');
      }
    });

    document.getElementById('login-button').addEventListener('click', function () {
      const usernameOrEmail = document.getElementById('login-username');
      const password = document.getElementById('login-password');

      if (!usernameOrEmail.value.trim()) {
        highlightErrorField(usernameOrEmail, 'Username atau email wajib diisi!');
        return;
      }

      if (!password.value.trim()) {
        highlightErrorField(password, 'Password wajib diisi!');
        return;
      }

      const users = JSON.parse(localStorage.getItem('users')) || [];
      const user = users.find(user => 
        (user.email === usernameOrEmail.value.trim() || user.username === usernameOrEmail.value.trim()) && 
        user.password === password.value.trim()
      );

      if (user) {
        showNotification('Login berhasil!', 'success');
        sessionStorage.setItem('loggedInUser', JSON.stringify(user));
        setTimeout(() => {
          window.location.href = '/';
        }, 1000);
      } else {
        highlightErrorField(usernameOrEmail, 'Username atau password salah!');
        highlightErrorField(password, 'Username atau password salah!');
      }
    });

    // Open and close modal functionality
    const forgotPasswordModal = document.getElementById('forgot-password-modal');
    const closeForgotPassword = document.getElementById('close-forgot-password');
    const forgotPasswordLink = document.querySelector('.form-link');

    forgotPasswordLink.addEventListener('click', (e) => {
      e.preventDefault();
      forgotPasswordModal.style.display = 'block';
    });

    closeForgotPassword.addEventListener('click', () => {
      forgotPasswordModal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
      if (e.target === forgotPasswordModal) {
        forgotPasswordModal.style.display = 'none';
      }
    });

    // Forgot Password functionality
    document.getElementById('forgot-password-submit').addEventListener('click', () => {
      const email = document.getElementById('forgot-password-email').value.trim();

      if (!email) {
        highlightErrorField(document.getElementById('forgot-password-email'), 'Email wajib diisi!');
        return;
      }

      if (!isValidEmail(email)) {
        highlightErrorField(document.getElementById('forgot-password-email'), 'Format email tidak valid!');
        return;
      }

      const users = JSON.parse(localStorage.getItem('users')) || [];
      const user = users.find(user => user.email === email);

      if (user) {
        showNotification('Instruksi reset password telah dikirim ke email Anda!', 'success');
        forgotPasswordModal.style.display = 'none';
      } else {
        highlightErrorField(document.getElementById('forgot-password-email'), 'Email tidak terdaftar!');
      }
    });
  </script>

  <style>
    /* Notification styles */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 5px;
      font-size: 14px;
      color: #fff;
      display: none;
      z-index: 1  000;
      transition: opacity 0.5s ease;
    }

    .notification.success {
      background-color: #4caf50;
    }

    .notification.error {
      background-color: #f44336;
    }

    /* Highlight error fields */
    .error {
      border: 2px solid #f44336;
      background-color: #ffe6e6; 
      animation: shake 0.3s ease-in-out;
    }

    @keyframes shake {
      0%, 100% {
        transform: translateX(0);
      }
      25% {
        transform: translateX(-5px);
      }
      50% {
        transform: translateX(5px);
      }
      75% {
        transform: translateX(-5px);
      }
    }

    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
    }

    .modal-content {
      background-color: #fff;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 30%;
      border-radius: 5px;
      text-align: center;
    }

    .modal-content input {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .modal-content .btn {
      padding: 10px 20px;
      background-color: #4caf50;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .modal-content .btn:hover {
      background-color: #45a049;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
    }
  </style>
  <!-- scripts end -->
</body>

</html>